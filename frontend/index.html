<!doctype html>
<html>
  <head>
    <title>Volkswagen friend Joris</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
    <script type="text/javascript">
      var socket  = io();
    </script>
    <link rel="stylesheet" type="text/css" href="http://i321797.iris.fhict.nl/googlehome/style.css">
  </head>
    <body>
      <h1>Hello world!</h1>
    <video class="bgvid intro hidden" src="https://i321797.iris.fhict.nl/687898845.mp4" playsinline muted preload="auto"></video>
    <video class="bgvid research hidden" src="https://i321797.iris.fhict.nl/706896863.mp4" playsinline muted preload="auto"></video>
  </body>

      <script>
        
          function setStage(stage) {

            let notHidden = document.querySelectorAll(".bgvid:not(.hidden)");

            for (let i = 0; i < notHidden.length; ++i) {
              notHidden[i].classList.add("hidden");
            }

            let selector = "." + stage;

            document.querySelector(selector).classList.remove("hidden")
            document.querySelector(selector).play()
          }

          socket.on('intro', function(data){
            setStage('intro');
          });

          socket.on('research', function(data){
            setStage('research');
          });


    </script>

</html>